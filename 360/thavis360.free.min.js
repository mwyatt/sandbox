/*
 *  Project: Thavis360-Javascript-Viewer
 *	Version: 1.06 Free
 *  Description: Javascript-based 360 viewer
 *  Author: (c) THAVIS GmbH & Co. KG, Germany, http://www.thavis.com
 *  License:
 */
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(window.jQuery)})(function(b){window.XDomainRequest&&!b.support.cors&&b.ajaxTransport(function(j){if(j.crossDomain&&j.async){j.timeout&&(j.xdrTimeout=j.timeout,delete j.timeout);var l;return{send:function(c,d){function e(c,f,e,p){l.onload=l.onerror=l.ontimeout=b.noop;l=null;d(c,f,e,p)}l=new XDomainRequest;"DELETE"===j.type?(j.url=j.url+(/\?/.test(j.url)?"&":"?")+"_method=DELETE",j.type="POST"):"PUT"===j.type&&(j.url=j.url+(/\?/.test(j.url)?
"&":"?")+"_method=PUT",j.type="POST");l.open(j.type,j.url);l.onload=function(){e(200,"OK",{text:l.responseText},"Content-Type: "+l.contentType)};l.onerror=function(){e(404,"Not Found")};j.xdrTimeout&&(l.ontimeout=function(){e(0,"timeout")},l.timeout=j.xdrTimeout);l.send(j.hasContent&&j.data||null)},abort:function(){l&&(l.onerror=b.noop(),l.abort())}}}})});
(function(b){function j(b){for(var d=1;d<arguments.length;d++)b=b.replace("%"+(d-1),arguments[d]);return b}function l(c,d){var e=b("img",c),g,f=null,k=null,p=null,r=null,q=null,n=null,s,m=0,l,u,t=0,y=0,v=0,w=0,J=0,D,E,h=this,K;setTimeout(function(){if(null===k){var b=c.width();c.parent().append(j('<div style="width:%0px;position:absolute;top:75%;left:%1px;text-align:center" class="cloud-zoom-loading" >Loading...</div>',b/3,b/2-b/6)).find(":last").css("opacity",0.5)}},200);this.removeBits=function(){p&&
(p.remove(),p=null);r&&(r.remove(),r=null);q&&(q.remove(),q=null);null!==n&&(n.remove(),n=null);b(".cloud-zoom-loading",c.parent()).remove()};this.destroy=function(){c.data("zoom",null);k&&(k.unbind(),k.remove(),k=null);f&&(f.remove(),f=null);this.removeBits()};this.fadedOut=function(){f&&(f.remove(),f=null);this.removeBits()};this.controlLoop=function(){if(p){var b=D-e.offset().left-0.5*l>>0,c=E-e.offset().top-0.5*u>>0;0>b?b=0:b>e.outerWidth()-l&&(b=e.outerWidth()-l);0>c?c=0:c>e.outerHeight()-u&&
(c=e.outerHeight()-u);p.css({left:b,top:c});p.css("background-position",-b+"px "+-c+"px");t=b/e.outerWidth()*s.width>>0;y=c/e.outerHeight()*s.height>>0;w+=(t-w)/d.smoothMove;v+=(y-v)/d.smoothMove;f.css("background-position",-(w>>0)+"px "+(-(v>>0)+"px"))}m=setTimeout(function(){h.controlLoop()},30)};this.init2=function(b,c){J++;1===c&&(s=b);2===J&&this.init()};this.init=function(){b(".cloud-zoom-loading",c.parent()).remove();k=c.parent().append(j("<div class='mousetrap' style='background-image:url(\".\");z-index:999;position:absolute;width:%0px;height:%1px;left:%2px;top:%3px;'></div>",
e.outerWidth(),e.outerHeight(),0,0)).find(":last");var h=d.adjustX,g=d.adjustY,q=e.outerWidth(),y=e.outerHeight(),t=d.zoomWidth,v=d.zoomHeight;"auto"==d.zoomWidth&&(t=q);"auto"==d.zoomHeight&&(v=y);var w=c.parent();switch(d.position){case "top":g-=v;break;case "right":h+=q;break;case "bottom":g+=y;break;case "left":h-=t;break;case "inside":t=q;v=y;break;default:w=b("#"+d.position),w.length?(t=w.innerWidth(),v=w.innerHeight()):(w=c,h+=q,g+=y)}f=w.append(j('<div id="cloud-zoom-big" class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:99;"></div>',
h,g,t,v,s.src)).find(":last");f.append(b('<a class="backlink" href="'+d.blURL+'" target="_blank">'+d.blText+"</a>"));e.attr("title")&&d.showTitle&&f.append(j('<div class="cloud-zoom-title">%0</div>',e.attr("title"))).find(":last").css("opacity",d.titleOpacity);b.browser.msie&&7>b.browser.version&&(n=b('<iframe frameborder="0" src="#"></iframe>').css({position:"absolute",left:h,top:g,zIndex:99,width:t,height:v}).insertBefore(f));f.fadeIn(500);p&&(p.remove(),p=null);l=e.outerWidth()/s.width*f.width();
u=e.outerHeight()/s.height*f.height();p=c.append(j("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;left:0;top:0;'></div>",l,u)).find(":last");k.css("cursor",p.css("cursor"));h=!1;d.tint&&(r=c.append(j('<div class="tint" style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',e.outerWidth(),e.outerHeight(),d.tint)).find(":last"),r.css("opacity",d.tintOpacity),h=!0,r.fadeIn(500));h||p.css("opacity",
d.lensOpacity);"inside"!==d.position&&p.fadeIn(500);k.bind("mousemove touchmove",this,function(b){"touchmove"==b.type&&"undefined"!=typeof b.originalEvent.touches?(D=b.originalEvent.touches[0].pageX,E=b.originalEvent.touches[0].pageY):(D=b.pageX,E=b.pageY)});k.bind("mouseleave touchend",this,function(){clearTimeout(m);return!1});k.bind("mouseenter touchstart",this,function(h){"touchstart"==h.type&&"undefined"!=typeof h.originalEvent.touches?(h.preventDefault(),D=h.originalEvent.touches[0].pageX,E=
h.originalEvent.touches[0].pageY):(D=h.pageX,E=h.pageY);K=h.data;f&&(f.stop(!0,!1),f.remove());var g=d.adjustX,q=d.adjustY,m=e.outerWidth(),y=e.outerHeight(),t=d.zoomWidth,v=d.zoomHeight;"auto"==d.zoomWidth&&(t=m);"auto"==d.zoomHeight&&(v=y);var w=c.parent();switch(d.position){case "top":q-=v;break;case "right":g+=m;break;case "bottom":q+=y;break;case "left":g-=t;break;case "inside":t=m;v=y;break;default:w=b("#"+d.position),w.length?(t=w.innerWidth(),v=w.innerHeight()):(w=c,g+=m,q+=y)}f=w.append(j('<div id="cloud-zoom-big" class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:99;"></div>',
g,q,t,v,s.src)).find(":last");f.append(b('<a class="backlink" href="'+d.blURL+'" target="_blank">'+d.blText+"</a>"));e.attr("title")&&d.showTitle&&f.append(j('<div class="cloud-zoom-title">%0</div>',e.attr("title"))).find(":last").css("opacity",d.titleOpacity);b.browser.msie&&7>b.browser.version&&(n=b('<iframe frameborder="0" src="#"></iframe>').css({position:"absolute",left:g,top:q,zIndex:99,width:t,height:v}).insertBefore(f));f.fadeIn(500);p&&(p.remove(),p=null);l=e.outerWidth()/s.width*f.width();
u=e.outerHeight()/s.height*f.height();p=c.append(j("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;'></div>",l,u)).find(":last");k.css("cursor",p.css("cursor"));g=!1;d.tint&&(r=c.append(j('<div style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',e.outerWidth(),e.outerHeight(),d.tint)).find(":last"),r.css("opacity",d.tintOpacity),g=!0,r.fadeIn(500));g||p.css("opacity",d.lensOpacity);"inside"!==
d.position&&p.fadeIn(500);K.controlLoop();"touchstart"==h.type&&h.preventDefault()})};g=new Image;b(g).load(function(){h.init2(this,0)});g.src=e.attr("src");g=new Image;b(g).load(function(){h.init2(this,1)});g.src=c.attr("href")}b(document).ready(function(){b(".cloud-zoom, .cloud-zoom-gallery").CloudZoom()});b.fn.CloudZoom=function(c){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(d){}this.each(function(){var d,g;eval("var\ta = {"+b(this).attr("rel")+"}");d=a;b(this).is(".cloud-zoom")?
(b(this).css({position:"relative",display:"block"}),b("img",b(this)).css({display:"block"}),"wrap"!=b(this).parent().attr("id")&&b(this).wrap('<div id="wrap" style="top:0px;z-index:9999;position:relative;"></div>'),g=b.extend({},b.fn.CloudZoom.defaults,c),g=b.extend({},g,d),b(this).data("zoom",new l(b(this),g))):b(this).is(".cloud-zoom-gallery")&&(g=b.extend({},d,c),b(this).data("relOpts",g),b(this).bind("touchstart click",b(this),function(c){var d=c.data.data("relOpts");b("#"+d.useZoom).data("zoom").destroy();
b("#"+d.useZoom).attr("href",c.data.attr("href"));b("#"+d.useZoom+" img").attr("src",c.data.data("relOpts").smallImage);b("#"+c.data.data("relOpts").useZoom).CloudZoom();return!1}))});return this};b.fn.CloudZoom.defaults={zoomWidth:"auto",zoomHeight:"auto",position:"right",tint:!1,tintOpacity:0.5,lensOpacity:0.5,softFocus:!1,smoothMove:3,showTitle:!0,titleOpacity:0.5,adjustX:0,adjustY:0}})(jQuery);
(function(b,j){var l,c,d,e;function g(b){var c=h.imgArray[0],d=c.player;if("function"!==typeof h[d])throw"unknown player "+d;h.player=new h[d](c,h.playerId);h.skin.onLoad(b,f)}function f(){if(A)if("undefined"!=typeof h.player.ready)var b=setInterval(function(){A?h.player.ready&&(clearInterval(b),b=null,h.skin.onReady(k)):(clearInterval(b),b=null)},10);else h.skin.onReady(k)}function k(){A&&(h.player.append(h.skin.body,h.dimensions),h.skin.onShow(p))}function p(){if(A){if(h.player.onLoad)h.player.onLoad();
h.options.onFinish(h.imgArray[0])}}function r(b,c){for(var f in c)b[f]=c[f];return b}function q(){}function n(c){return b(h.options.tmpContainer).find("#"+c)[0]}function s(b){if("touchstart"==b.type||"touchmove"==b.type){var c=j.event.touches[0].pageX||j.event.touches[0].clientX+(document.documentElement.scrollLeft||document.body.scrollLeft);b=j.event.touches[0].pageY||j.event.touches[0].clientY+(document.documentElement.scrollTop||document.body.scrollTop)}else c=b.pageX||b.clientX+(document.documentElement.scrollLeft||
document.body.scrollLeft),b=b.pageY||b.clientY+(document.documentElement.scrollTop||document.body.scrollTop);return[c,b]}function m(){var b=h.dimensions;r(B.style,{height:b.innerHeight+"px",width:b.innerWidth+"px"})}function z(c){c.preventDefault();c=s(c);d=c[0];e=c[1];F=n(h.player.id);c=n("t-sb-info");b(document).bind("mousemove",u);b(document).bind("touchmove",u);"follow"==h.options.zoomMode?(b(document).bind("mouseout",t),b(c).bind("mousemove",u),b(c).bind("touchmove",u)):b(document).bind("mouseup",
t);b(document).bind("touchend",t)}function u(f){var k=h.player,g=h.dimensions;f=s(f);if("follow"==h.options.zoomMode){$imagePan_panning=b(F);totalContentW=$imagePan_panning.width();totalContentH=$imagePan_panning.height();$imagePan=b(B);containerWidth=$imagePan.width();containerHeight=$imagePan.height();var k=f[0]-$imagePan.offset().left,g=f[1]-$imagePan.offset().top,p=-((totalContentW-containerWidth-containerWidth)*(k/containerWidth)),j=-((totalContentH-containerHeight-containerHeight)*(g/containerHeight)),
q=k-p,n=p-k,m=g-j,u=j-g,y=$imagePan.offset().left,t=$imagePan.offset().top,v=y+$imagePan.width(),w=t+$imagePan.height();!(f[0]<y)&&(!(f[0]>v)&&!(f[1]<t)&&!(f[1]>w))&&(k>p||g>j?($imagePan_panning.css("left",-q-0),$imagePan_panning.css("top",-m-0)):k<p||g<j?($imagePan_panning.css("left",n-0),$imagePan_panning.css("top",u-0)):$imagePan_panning.stop())}else p=f[0]-d,d+=p,f=f[1]-e,e+=f,l=Math.max(Math.min(0,l+p),g.innerWidth-k.width),c=Math.max(Math.min(0,c+f),g.innerHeight-k.height),r(F.style,{left:l+
"px",top:c+"px"})}function t(){b(document).unbind("mousemove",u);b(document).unbind("touchmove",u);b(document).unbind("mouseup",t);"follow"==h.options.zoomMode&&b(document).unbind("mouseout",t);b(document).unbind("touchend",t)}function y(){""==h.options.customContainer?M?(x.style.height=j.innerHeight+"px",x.style.width=j.innerWidth+"px"):(x.style.height=b(j).height()+"px",x.style.width=b(j).width()+"px"):(x.style.height=b(h.options.customContainer).height()+"px",x.style.width=b(h.options.customContainer).width()+
"px")}function v(){R?(x.style.top=document.documentElement.scrollTop+"px",x.style.left=document.documentElement.scrollLeft+"px"):(x.style.top=j.pageYOffset+"px",x.style.left=j.pageXOffset+"px")}function w(c,f){var d=n("t-sb-loading"),e=h.imgArray[0].player,e="img"==e||"html"==e;if(c){b(d).css("opacity",0);d.style.display="block";var k=function(){b(d).css("opacity",1);f&&f()};e?b(d).animate({opacity:1},1E3*h.options.fadeDuration,k):k()}else k=function(){d.style.display="none";b(d).css("opacity",1);
f&&f()},e?b(d).animate({opacity:0},1E3*h.options.fadeDuration,k):k()}function J(c,f,d,e){var k=n("t-sb-wrapper-inner");d=d?h.options.resizeDuration:0;b(H).animate({top:f},1E3*d);b(k).animate({height:c},1E3*d,e)}function D(c,f,d,e){d=d?h.options.resizeDuration:0;b(H).animate({left:f},1E3*d);b(H).animate({width:c},1E3*d,e)}function E(b,c){var f=n("t-sb-body-inner");b=parseInt(b);c=parseInt(c);var d=H.offsetHeight-f.offsetHeight,f=H.offsetWidth-f.offsetWidth,e=G.offsetHeight,k=G.offsetWidth,g=parseInt(h.options.viewportPadding)||
20;return h.setDimensions(b,c,e,k,d,f,g,h.player&&"drag"!=h.options.handleOversize)}var h={},K=document.documentElement,A=!1,P=!1,Q={},R=!1,M=!1,L=document.createElement("div");L.style.position="fixed";L.style.margin=0;L.style.top="20px";K.appendChild(L,K.firstChild);K.removeChild(L);R=/(iPhone)/.test(navigator.userAgent);M=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(navigator.userAgent.toLowerCase())?!0:!1;h.current=-1;h.dimensions=null;h.imgArray=[];h.onReady=q;h.player=
null;h.playerId="t-sb-player";h.options={blURL:"",blText:"",fURL:"",zoomMode:"follow",customContainer:"",tmpContainer:"",handleOversize:"resize",onChange:q,onClose:q,onFinish:q,onOpen:q,viewportPadding:20};h.applyOptions=function(b){Q=r({},h.options);r(h.options,b)};h.revertOptions=function(){r(h.options,Q)};h.init=function(c,f){h.options.fURL=c.fURL;h.options.customContainer=c.customContainer;h.options.tmpContainer=c.customContainer;P||(P=!0,h.skin.options&&r(h.options,h.skin.options),c&&r(h.options,
c),f&&(h.onReady=f),b(document).ready(h.load))};h.open=function(b){A||(h.imgArray=[b],h.current=0,b=h.imgArray[0],null!=b&&(h.applyOptions(b.options||{}),h.imgArray.length&&(b=h.imgArray[0],!1!==h.options.onOpen(b)&&(A=!0,h.skin.onOpen(b,g)))))};h.close=function(){x.style.position="absolute";A&&(A=!1,h.player&&(h.player.remove(),h.player=null),h.options.onClose(h.imgArray[0]),h.skin.onClose(),h.revertOptions())};h.full=function(){A&&(A=!1,h.player&&(h.player.remove(),h.player=null),h.options.onClose(h.imgArray[0]),
h.options.customContainer="",x.style.position="fixed",b(h.options.tmpContainer).find("#t-sb-nav-full").css("display","none"),TShadowbox.open({content:h.options.fURL,player:"img"}))};h.setDimensions=function(b,c,f,d,e,k,g,p){var j=b,r=c,q=2*g+e;b+q>f&&(b=f-q);var s=2*g+k;c+s>d&&(c=d-s);var n=(j-b)/j,m=(r-c)/r,u=0<n||0<m;p&&u&&(n>m?c=Math.round(r/j*b):m>n&&(b=Math.round(j/r*c)));h.dimensions={height:b+e,width:c+k,innerHeight:b,innerWidth:c,top:Math.floor((f-(b+q))/2+g),left:Math.floor((d-(c+s))/2+g),
oversized:u};return h.dimensions};var S=!1;h.load=function(){if(!S){if(!document.body)return setTimeout(h.load,13);S=!0;h.onReady();h.skin.init()}};var C,B,F;h.img=function(b,c){this.obj=b;this.id=c;this.ready=!1;var f=this;C=new Image;C.onload=function(){f.height=b.height?parseInt(b.height,10):C.height;f.width=b.width?parseInt(b.width,10):C.width;f.ready=!0;C=C.onload=null};C.src=b.content};h.img.ext=["bmp","gif","jpg","jpeg","png"];h.img.prototype={append:function(b,c){var f=document.createElement("img");
f.id=this.id;f.src=this.obj.content;f.style.position="absolute";var d,e;c.oversized&&"resize"==h.options.handleOversize?(d=c.innerHeight,e=c.innerWidth):(d=this.height,e=this.width);f.setAttribute("height",d);f.setAttribute("width",e);b.appendChild(f)},remove:function(){var c=n(this.id);c&&c.parentNode.removeChild(c);B&&(c=n("t-sb-info"),b(c).unbind("mousemove",u),b(c).unbind("touchmove",u),"follow"==h.options.zoomMode?b(B).unbind("mouseover",z):b(B).unbind("mousedown",z),b(B).unbind("touchstart",
z),B.parentNode.removeChild(B),B=null);F=null;C&&(C=C.onload=null)},onLoad:function(){if(h.dimensions.oversized&&"drag"==h.options.handleOversize){c=l=0;e=d=null;b(h.skin.body).append('<div id="t-sb-drag-proxy" style="position:absolute;cursor:move"></div>');var f=document.createElement("a");f.className="backlink";f.target="_blank";f.innerHTML=h.options.blText;f.href=h.options.blURL;h.skin.body.appendChild(f);B=n("t-sb-drag-proxy");m();"follow"==h.options.zoomMode?b(B).bind("mouseover",z):b(B).bind("mousedown",
z);b(B).bind("touchstart",z)}},onWindowResize:function(){var c=h.dimensions;switch(h.options.handleOversize){case "resize":var f=n(this.id);f.height=c.innerHeight;f.width=c.innerWidth;break;case "drag":if(F){var f=parseInt(b(F).css("top")),d=parseInt(b(F).css("left"));f+this.height<c.innerHeight&&(F.style.top=c.innerHeight-this.height+"px");d+this.width<c.innerWidth&&(F.style.left=c.innerWidth-this.width+"px");m()}}}};h.html=function(b,c){this.obj=b;this.id=c;this.height=b.height?parseInt(b.height,
10):300;this.width=b.width?parseInt(b.width,10):500};h.html.prototype={append:function(b){var c=document.createElement("div");c.id=this.id;c.className="html";c.innerHTML=this.obj.content;b.appendChild(c)},remove:function(){var b=n(this.id);b&&b.parentNode.removeChild(b)}};var N=!1,x,G,H,O=!0,I={markup:'<div id="t-sb-container"><div id="t-sb-overlay"></div><div id="t-sb-wrapper"><div id="t-sb-wrapper-inner"><div id="t-sb-body"><div id="t-sb-body-inner"></div><div id="t-sb-loading"></div></div></div><div id="t-sb-info"><div id="t-sb-info-inner"><div id="t-sb-nav"><a id="t-sb-nav-close" onclick="TShadowbox.close()"></a><a id="t-sb-nav-full" onclick="TShadowbox.full()"></a></div></div></div></div></div>',
options:{displayNav:!0,fadeDuration:0.35,initialHeight:160,initialWidth:320,modal:!1,overlayColor:"#000",overlayOpacity:0.5,resizeDuration:0.35,showOverlay:!0},init:function(){""==h.options.customContainer?b(document.body).append(I.markup):b(h.options.customContainer).append(I.markup);I.body=n("t-sb-body-inner");x=n("t-sb-container");G=n("t-sb-overlay");H=n("t-sb-wrapper");x.style.position="absolute";var c;b(j).bind("resize",function(){c&&(clearTimeout(c),c=null);A&&(c=setTimeout(I.onWindowResize,
10))})},onOpen:function(c,f){O=!1;x.style.display="block";y();var d=E(h.options.initialHeight,h.options.initialWidth);J(d.innerHeight,d.top);D(d.width,d.left);h.options.showOverlay&&(G.style.backgroundColor=h.options.overlayColor,b(G).css("opacity",0),h.options.modal||b(G).bind("click",h.close),N=!0);""==h.options.customContainer&&M&&(v(),b(j).bind("scroll",v));x.style.visibility="visible";N?b(G).animate({opacity:h.options.overlayOpacity},1E3*h.options.fadeDuration,f):f()},onLoad:function(c,f){for(w(!0);I.body.firstChild;){var d=
I.body.firstChild;d.parentNode.removeChild(d)}var d=n("t-sb-info").offsetHeight,e=n("t-sb-info-inner"),k=c?0.35:0;b(e).animate({marginTop:-1*d},1E3*k,function(){e.style.visibility="hidden";if(A){c||(H.style.visibility="visible");var b=h.options.displayNav?!0:!1,d=n("t-sb-nav-close");d&&(d.style.display=b?"":"none");f()}})},onReady:function(c){if(A){var f=h.player,f=E(f.height,f.width);D(f.width,f.left,!1);J(f.innerHeight,f.top,!1,function(){var f=n("t-sb-info-inner");f.style.visibility="";b(f).animate({marginTop:0},
350,c)})}},onShow:function(b){w(!1,b);O=!0},onClose:function(){M&&(b(j).unbind("scroll",v),x.style.top=0,x.style.left=0);b(G).unbind("click",h.close);H.style.visibility="hidden";var c=function(){x.style.visibility="hidden";x.style.display="none"};N?b(G).animate({opacity:0},1E3*h.options.fadeDuration,c):c()},onWindowResize:function(){if(O){y();var b=h.player,c=E(b.height,b.width);D(c.width,c.left);J(c.innerHeight,c.top);if(b.onWindowResize)b.onWindowResize()}}};h.skin=I;j.TShadowbox=h})(jQuery,window);
(function(b,j){b.fn.jPlayer=function(c){var d="string"===typeof c,e=Array.prototype.slice.call(arguments,1),g=this;c=!d&&e.length?b.extend.apply(null,[!0,c].concat(e)):c;if(d&&"_"===c.charAt(0))return g;d?this.each(function(){var f=b.data(this,"jPlayer"),d=f&&b.isFunction(f[c])?f[c].apply(f,e):f;if(d!==f&&d!==j)return g=d,!1}):this.each(function(){var f=b.data(this,"jPlayer");f?f.option(c||{}):b.data(this,"jPlayer",new b.jPlayer(c,this))});return g};b.jPlayer=function(c,d){if(arguments.length){this.element=
b(d);this.options=b.extend(!0,{},this.options,c);var e=this;this.element.bind("remove.jPlayer",function(){e.destroy()});this._init()}};b.jPlayer.emulateMethods="load play pause";b.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";b.jPlayer.emulateOptions="muted volume";b.jPlayer.reservedEvent="ready flashreset resize repeat error warning";b.jPlayer.event={ready:"jPlayer_ready",flashreset:"jPlayer_flashreset",resize:"jPlayer_resize",repeat:"jPlayer_repeat",
click:"jPlayer_click",error:"jPlayer_error",warning:"jPlayer_warning",loadstart:"jPlayer_loadstart",progress:"jPlayer_progress",suspend:"jPlayer_suspend",abort:"jPlayer_abort",emptied:"jPlayer_emptied",stalled:"jPlayer_stalled",play:"jPlayer_play",pause:"jPlayer_pause",loadedmetadata:"jPlayer_loadedmetadata",loadeddata:"jPlayer_loadeddata",waiting:"jPlayer_waiting",playing:"jPlayer_playing",canplay:"jPlayer_canplay",canplaythrough:"jPlayer_canplaythrough",seeking:"jPlayer_seeking",seeked:"jPlayer_seeked",
timeupdate:"jPlayer_timeupdate",ended:"jPlayer_ended",ratechange:"jPlayer_ratechange",durationchange:"jPlayer_durationchange",volumechange:"jPlayer_volumechange"};b.jPlayer.htmlEvent="loadstart abort emptied stalled loadedmetadata loadeddata canplay canplaythrough ratechange".split(" ");b.jPlayer.pause=function(){b.each(b.jPlayer.prototype.instances,function(b,d){d.data("jPlayer").status.srcSet&&d.jPlayer("pause")})};b.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,
sepHour:":",sepMin:":",sepSec:""};b.jPlayer.convertTime=function(c){var d=new Date(1E3*c),e=d.getUTCHours();c=d.getUTCMinutes();d=d.getUTCSeconds();e=b.jPlayer.timeFormat.padHour&&10>e?"0"+e:e;c=b.jPlayer.timeFormat.padMin&&10>c?"0"+c:c;d=b.jPlayer.timeFormat.padSec&&10>d?"0"+d:d;return(b.jPlayer.timeFormat.showHour?e+b.jPlayer.timeFormat.sepHour:"")+(b.jPlayer.timeFormat.showMin?c+b.jPlayer.timeFormat.sepMin:"")+(b.jPlayer.timeFormat.showSec?d+b.jPlayer.timeFormat.sepSec:"")};b.jPlayer.uaBrowser=
function(b){b=b.toLowerCase();var d=/(opera)(?:.*version)?[ \/]([\w.]+)/,e=/(msie) ([\w.]+)/,g=/(mozilla)(?:.*? rv:([\w.]+))?/;b=/(webkit)[ \/]([\w.]+)/.exec(b)||d.exec(b)||e.exec(b)||0>b.indexOf("compatible")&&g.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}};b.jPlayer.uaPlatform=function(b){var d=b.toLowerCase(),e=/(android)/,g=/(mobile)/;b=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(d)||[];d=/(ipad|playbook)/.exec(d)||!g.exec(d)&&e.exec(d)||[];b[1]&&(b[1]=b[1].replace(/\s/g,
"_"));return{platform:b[1]||"",tablet:d[1]||""}};b.jPlayer.browser={};b.jPlayer.platform={};var l=b.jPlayer.uaBrowser(navigator.userAgent);l.browser&&(b.jPlayer.browser[l.browser]=!0,b.jPlayer.browser.version=l.version);l=b.jPlayer.uaPlatform(navigator.userAgent);l.platform&&(b.jPlayer.platform[l.platform]=!0,b.jPlayer.platform.mobile=!l.tablet,b.jPlayer.platform.tablet=!!l.tablet);b.jPlayer.prototype={count:0,version:{script:"2.2.0",needFlash:"2.2.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",
supplied:"mp3",preload:"metadata",volume:0.8,muted:!1,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",
repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},fullScreen:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1E3},loop:!1,repeat:function(c){c.jPlayer.options.loop?b(this).unbind(".jPlayerRepeat").bind(b.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){b(this).jPlayer("play")}):b(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullScreen:{msie:/msie [0-6]/,ipad:/ipad.*?os [0-4]/,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3](?!.*?mobile)/,
android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,webos:/webos/,playbook:/playbook/},verticalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},
optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,flash:!0},format:{mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:!0,
media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},
ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var c=this;this.element.empty();this.status=b.extend({},this.status);this.internal=b.extend({},this.internal);this.internal.domNode=this.element.get(0);this.formats=[];this.solutions=[];this.require=
{};this.htmlElement={};this.html={};this.html.audio={};this.html.video={};this.flash={};this.css={};this.css.cs={};this.css.jq={};this.ancestorJq=[];this.options.volume=this._limitValue(this.options.volume,0,1);b.each(this.options.supplied.toLowerCase().split(","),function(f,d){var e=d.replace(/^\s+|\s+$/g,"");if(c.format[e]){var g=!1;b.each(c.formats,function(b,c){if(e===c)return g=!0,!1});g||c.formats.push(e)}});b.each(this.options.solution.toLowerCase().split(","),function(f,d){var e=d.replace(/^\s+|\s+$/g,
"");if(c.solution[e]){var g=!1;b.each(c.solutions,function(b,c){if(e===c)return g=!0,!1});g||c.solutions.push(e)}});this.internal.instance="jp_"+this.count;this.instances[this.internal.instance]=this.element;this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count);this.internal.self=b.extend({},{id:this.element.attr("id"),jq:this.element});this.internal.audio=b.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:j});this.internal.video=b.extend({},{id:this.options.idPrefix+
"_video_"+this.count,jq:j});this.internal.flash=b.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:j,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"Jplayer.swf":"")});this.internal.poster=b.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:j});b.each(b.jPlayer.event,function(b,d){c.options[b]!==j&&(c.element.bind(d+".jPlayer",c.options[b]),c.options[b]=j)});this.require.audio=
!1;this.require.video=!1;b.each(this.formats,function(b,d){c.require[c.format[d].media]=!0});this.options=this.require.video?b.extend(!0,{},this.optionsVideo,this.options):b.extend(!0,{},this.optionsAudio,this.options);this._setSize();this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullScreen=this._uaBlocklist(this.options.noFullScreen);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._restrictNativeVideoControls();this.htmlElement.poster=
document.createElement("img");this.htmlElement.poster.id=this.internal.poster.id;this.htmlElement.poster.onload=function(){(!c.status.video||c.status.waitForPlay)&&c.internal.poster.jq.show()};this.element.append(this.htmlElement.poster);this.internal.poster.jq=b("#"+this.internal.poster.id);this.internal.poster.jq.css({width:this.status.width,height:this.status.height});this.internal.poster.jq.hide();this.internal.poster.jq.bind("click.jPlayer",function(){c._trigger(b.jPlayer.event.click)});this.html.audio.available=
!1;this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio));this.html.video.available=!1;this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video));
this.flash.available=this._checkForFlash(10);this.html.canPlay={};this.flash.canPlay={};b.each(this.formats,function(b,d){c.html.canPlay[d]=c.html[c.format[d].media].available&&""!==c.htmlElement[c.format[d].media].canPlayType(c.format[d].codec);c.flash.canPlay[d]=c.format[d].flashCanPlay&&c.flash.available});this.html.desired=!1;this.flash.desired=!1;b.each(this.solutions,function(f,d){if(0===f)c[d].desired=!0;else{var e=!1,g=!1;b.each(c.formats,function(b,f){c[c.solutions[0]].canPlay[f]&&("video"===
c.format[f].media?g=!0:e=!0)});c[d].desired=c.require.audio&&!e||c.require.video&&!g}});this.html.support={};this.flash.support={};b.each(this.formats,function(b,d){c.html.support[d]=c.html.canPlay[d]&&c.html.desired;c.flash.support[d]=c.flash.canPlay[d]&&c.flash.desired});this.html.used=!1;this.flash.used=!1;b.each(this.solutions,function(f,d){b.each(c.formats,function(b,f){if(c[d].support[f])return c[d].used=!0,!1})});this._resetActive();this._resetGate();this._cssSelectorAncestor(this.options.cssSelectorAncestor);
!this.html.used&&!this.flash.used?(this._error({type:b.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:b.jPlayer.errorMsg.NO_SOLUTION,hint:b.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()):this.css.jq.noSolution.length&&this.css.jq.noSolution.hide();if(this.flash.used){var d,e="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+
"&muted="+this.options.muted;if(b.jPlayer.browser.msie&&8>=Number(b.jPlayer.browser.version)){e=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+e+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];d=document.createElement('<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0"></object>');
for(var g=0;g<e.length;g++)d.appendChild(document.createElement(e[g]))}else g=function(b,c,d){var e=document.createElement("param");e.setAttribute("name",c);e.setAttribute("value",d);b.appendChild(e)},d=document.createElement("object"),d.setAttribute("id",this.internal.flash.id),d.setAttribute("data",this.internal.flash.swf),d.setAttribute("type","application/x-shockwave-flash"),d.setAttribute("width","1"),d.setAttribute("height","1"),g(d,"flashvars",e),g(d,"allowscriptaccess","always"),g(d,"bgcolor",
this.options.backgroundColor),g(d,"wmode",this.options.wmode);this.element.append(d);this.internal.flash.jq=b(d)}this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=b("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=b("#"+this.internal.video.id),
this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.internal.video.jq.css({width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){c._trigger(b.jPlayer.event.click)})));this.options.emulateHtml&&this._emulateHtmlBridge();this.html.used&&!this.flash.used&&setTimeout(function(){c.internal.ready=!0;c.version.flash="n/a";c._trigger(b.jPlayer.event.repeat);c._trigger(b.jPlayer.event.ready)},100);this._updateNativeVideoControls();
this._updateInterface();this._updateButtons(!1);this._updateAutohide();this._updateVolume(this.options.volume);this._updateMute(this.options.muted);this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();b.jPlayer.prototype.count++},destroy:function(){this.clearMedia();this._removeUiClass();this.css.jq.currentTime.length&&this.css.jq.currentTime.text("");this.css.jq.duration.length&&this.css.jq.duration.text("");b.each(this.css.jq,function(b,d){d.length&&d.unbind(".jPlayer")});this.internal.poster.jq.unbind(".jPlayer");
this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer");this.options.emulateHtml&&this._destroyHtmlBridge();this.element.removeData("jPlayer");this.element.unbind(".jPlayer");this.element.empty();delete this.instances[this.internal.instance]},enable:function(){},disable:function(){},_testCanPlayType:function(b){try{return b.canPlayType(this.format.mp3.codec),!0}catch(d){return!1}},_uaBlocklist:function(c){var d=navigator.userAgent.toLowerCase(),e=!1;b.each(c,function(b,c){if(c&&c.test(d))return e=
!0,!1});return e},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullScreen=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):
this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(c,d){var e=this;c.preload=this.options.preload;c.muted=this.options.muted;c.volume=this.options.volume;c.addEventListener("progress",function(){d.gate&&(e._getHtmlStatus(c),e._updateInterface(),e._trigger(b.jPlayer.event.progress))},!1);c.addEventListener("timeupdate",function(){d.gate&&(e._getHtmlStatus(c),e._updateInterface(),e._trigger(b.jPlayer.event.timeupdate))},
!1);c.addEventListener("durationchange",function(){d.gate&&(e._getHtmlStatus(c),e._updateInterface(),e._trigger(b.jPlayer.event.durationchange))},!1);c.addEventListener("play",function(){d.gate&&(e._updateButtons(!0),e._html_checkWaitForPlay(),e._trigger(b.jPlayer.event.play))},!1);c.addEventListener("playing",function(){d.gate&&(e._updateButtons(!0),e._seeked(),e._trigger(b.jPlayer.event.playing))},!1);c.addEventListener("pause",function(){d.gate&&(e._updateButtons(!1),e._trigger(b.jPlayer.event.pause))},
!1);c.addEventListener("waiting",function(){d.gate&&(e._seeking(),e._trigger(b.jPlayer.event.waiting))},!1);c.addEventListener("seeking",function(){d.gate&&(e._seeking(),e._trigger(b.jPlayer.event.seeking))},!1);c.addEventListener("seeked",function(){d.gate&&(e._seeked(),e._trigger(b.jPlayer.event.seeked))},!1);c.addEventListener("volumechange",function(){d.gate&&(e.options.volume=c.volume,e.options.muted=c.muted,e._updateMute(),e._updateVolume(),e._trigger(b.jPlayer.event.volumechange))},!1);c.addEventListener("suspend",
function(){d.gate&&(e._seeked(),e._trigger(b.jPlayer.event.suspend))},!1);c.addEventListener("ended",function(){d.gate&&(b.jPlayer.browser.webkit||(e.htmlElement.media.currentTime=0),e.htmlElement.media.pause(),e._updateButtons(!1),e._getHtmlStatus(c,!0),e._updateInterface(),e._trigger(b.jPlayer.event.ended))},!1);c.addEventListener("error",function(){d.gate&&(e._updateButtons(!1),e._seeked(),e.status.srcSet&&(clearTimeout(e.internal.htmlDlyCmdId),e.status.waitForLoad=!0,e.status.waitForPlay=!0,e.status.video&&
!e.status.nativeVideoControls&&e.internal.video.jq.css({width:"0px",height:"0px"}),e._validString(e.status.media.poster)&&!e.status.nativeVideoControls&&e.internal.poster.jq.show(),e.css.jq.videoPlay.length&&e.css.jq.videoPlay.show(),e._error({type:b.jPlayer.error.URL,context:e.status.src,message:b.jPlayer.errorMsg.URL,hint:b.jPlayer.errorHint.URL})))},!1);b.each(b.jPlayer.htmlEvent,function(g,f){c.addEventListener(this,function(){d.gate&&e._trigger(b.jPlayer.event[f])},!1)})},_getHtmlStatus:function(b,
d){var e=0,g=0,f=0,k=0;isFinite(b.duration)&&(this.status.duration=b.duration);e=b.currentTime;g=0<this.status.duration?100*e/this.status.duration:0;"object"===typeof b.seekable&&0<b.seekable.length?(f=0<this.status.duration?100*b.seekable.end(b.seekable.length-1)/this.status.duration:100,k=0<this.status.duration?100*b.currentTime/b.seekable.end(b.seekable.length-1):0):(f=100,k=g);d&&(g=k=e=0);this.status.seekPercent=f;this.status.currentPercentRelative=k;this.status.currentPercentAbsolute=g;this.status.currentTime=
e;this.status.readyState=b.readyState;this.status.networkState=b.networkState;this.status.playbackRate=b.playbackRate;this.status.ended=b.ended},_resetStatus:function(){this.status=b.extend({},this.status,b.jPlayer.prototype.status)},_trigger:function(c,d,e){c=b.Event(c);c.jPlayer={};c.jPlayer.version=b.extend({},this.version);c.jPlayer.options=b.extend(!0,{},this.options);c.jPlayer.status=b.extend(!0,{},this.status);c.jPlayer.html=b.extend(!0,{},this.html);c.jPlayer.flash=b.extend(!0,{},this.flash);
d&&(c.jPlayer.error=b.extend({},d));e&&(c.jPlayer.warning=b.extend({},e));this.element.trigger(c)},jPlayerFlashEvent:function(c,d){if(c===b.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var e=this.status.currentTime,g=this.status.paused;this.setMedia(this.status.media);0<e&&(g?this.pause(e):this.play(e))}this._trigger(b.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=d.version,
this.version.needFlash!==this.version.flash&&this._error({type:b.jPlayer.error.VERSION,context:this.version.flash,message:b.jPlayer.errorMsg.VERSION+this.version.flash,hint:b.jPlayer.errorHint.VERSION}),this._trigger(b.jPlayer.event.repeat),this._trigger(c);if(this.flash.gate)switch(c){case b.jPlayer.event.progress:this._getFlashStatus(d);this._updateInterface();this._trigger(c);break;case b.jPlayer.event.timeupdate:this._getFlashStatus(d);this._updateInterface();this._trigger(c);break;case b.jPlayer.event.play:this._seeked();
this._updateButtons(!0);this._trigger(c);break;case b.jPlayer.event.pause:this._updateButtons(!1);this._trigger(c);break;case b.jPlayer.event.ended:this._updateButtons(!1);this._trigger(c);break;case b.jPlayer.event.click:this._trigger(c);break;case b.jPlayer.event.error:this.status.waitForLoad=!0;this.status.waitForPlay=!0;this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"});this._validString(this.status.media.poster)&&this.internal.poster.jq.show();this.css.jq.videoPlay.length&&
this.status.video&&this.css.jq.videoPlay.show();this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media);this._updateButtons(!1);this._error({type:b.jPlayer.error.URL,context:d.src,message:b.jPlayer.errorMsg.URL,hint:b.jPlayer.errorHint.URL});break;case b.jPlayer.event.seeking:this._seeking();this._trigger(c);break;case b.jPlayer.event.seeked:this._seeked();this._trigger(c);break;case b.jPlayer.event.ready:break;default:this._trigger(c)}return!1},_getFlashStatus:function(b){this.status.seekPercent=
b.seekPercent;this.status.currentPercentRelative=b.currentPercentRelative;this.status.currentPercentAbsolute=b.currentPercentAbsolute;this.status.currentTime=b.currentTime;this.status.duration=b.duration;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=!1},_updateButtons:function(b){b!==j&&(this.status.paused=!b,this.css.jq.play.length&&this.css.jq.pause.length&&(b?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())));
this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullScreen?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullScreen?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide()));this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},
_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%");this.css.jq.playBar.length&&this.css.jq.playBar.width(this.status.currentPercentRelative+"%");this.css.jq.currentTime.length&&this.css.jq.currentTime.text(b.jPlayer.convertTime(this.status.currentTime));this.css.jq.duration.length&&this.css.jq.duration.text(b.jPlayer.convertTime(this.status.duration))},_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg")},
_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg")},_resetGate:function(){this.html.audio.gate=!1;this.html.video.gate=!1;this.flash.gate=!1},_resetActive:function(){this.html.active=!1;this.flash.active=!1},setMedia:function(c){var d=this,e=!1,g=this.status.media.poster!==c.poster;this._resetMedia();this._resetGate();this._resetActive();b.each(this.formats,function(f,k){var g="video"===d.format[k].media;b.each(d.solutions,function(b,f){if(d[f].support[k]&&
d._validString(c[k])){var j="html"===f;g?(j?(d.html.video.gate=!0,d._html_setVideo(c),d.html.active=!0):(d.flash.gate=!0,d._flash_setVideo(c),d.flash.active=!0),d.css.jq.videoPlay.length&&d.css.jq.videoPlay.show(),d.status.video=!0):(j?(d.html.audio.gate=!0,d._html_setAudio(c),d.html.active=!0):(d.flash.gate=!0,d._flash_setAudio(c),d.flash.active=!0),d.css.jq.videoPlay.length&&d.css.jq.videoPlay.hide(),d.status.video=!1);e=!0;return!1}});if(e)return!1});if(e){if((!this.status.nativeVideoControls||
!this.html.video.gate)&&this._validString(c.poster))g?this.htmlElement.poster.src=c.poster:this.internal.poster.jq.show();this.status.srcSet=!0;this.status.media=b.extend({},c);this._updateButtons(!1);this._updateInterface()}else this._error({type:b.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:b.jPlayer.errorMsg.NO_SUPPORT,hint:b.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus();this._updateButtons(!1);this._updateInterface();this._seeked();
this.internal.poster.jq.hide();clearTimeout(this.internal.htmlDlyCmdId);this.html.active?this._html_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia();this.html.active?this._html_clearMedia():this.flash.active&&this._flash_clearMedia();this._resetGate();this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},play:function(b){b="number"===typeof b?b:
NaN;this.status.srcSet?this.html.active?this._html_play(b):this.flash.active&&this._flash_play(b):this._urlNotSetError("play")},videoPlay:function(){this.play()},pause:function(b){b="number"===typeof b?b:NaN;this.status.srcSet?this.html.active?this._html_pause(b):this.flash.active&&this._flash_pause(b):this._urlNotSetError("pause")},pauseOthers:function(){var c=this;b.each(this.instances,function(b,e){c.element!==e&&e.data("jPlayer").status.srcSet&&e.jPlayer("pause")})},stop:function(){this.status.srcSet?
this.html.active?this._html_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(b){b=this._limitValue(b,0,100);this.status.srcSet?this.html.active?this._html_playHead(b):this.flash.active&&this._flash_playHead(b):this._urlNotSetError("playHead")},_muted:function(c){this.options.muted=c;this.html.used&&this._html_mute(c);this.flash.used&&this._flash_mute(c);!this.html.video.gate&&!this.html.audio.gate&&(this._updateMute(c),this._updateVolume(this.options.volume),
this._trigger(b.jPlayer.event.volumechange))},mute:function(b){b=b===j?!0:!!b;this._muted(b)},unmute:function(b){b=b===j?!0:!!b;this._muted(!b)},_updateMute:function(b){b===j&&(b=this.options.muted);this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):b?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(c){c=this._limitValue(c,0,1);this.options.volume=c;this.html.used&&
this._html_volume(c);this.flash.used&&this._flash_volume(c);!this.html.video.gate&&!this.html.audio.gate&&(this._updateVolume(c),this._trigger(b.jPlayer.event.volumechange))},volumeBar:function(b){if(this.css.jq.volumeBar.length){var d=this.css.jq.volumeBar.offset(),e=b.pageX-d.left,g=this.css.jq.volumeBar.width();b=this.css.jq.volumeBar.height()-b.pageY+d.top;d=this.css.jq.volumeBar.height();this.options.verticalVolume?this.volume(b/d):this.volume(e/g)}this.options.muted&&this._muted(!1)},volumeBarValue:function(b){this.volumeBar(b)},
_updateVolume:function(b){b===j&&(b=this.options.volume);b=this.options.muted?0:b;this.status.noVolume?(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*b+
"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1);this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(c){var d=this;this.options.cssSelectorAncestor=c;this._removeUiClass();this.ancestorJq=c?b(c):[];c&&1!==this.ancestorJq.length&&this._warning({type:b.jPlayer.warning.CSS_SELECTOR_COUNT,context:c,message:b.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:b.jPlayer.warningHint.CSS_SELECTOR_COUNT});
this._addUiClass();b.each(this.options.cssSelector,function(b,c){d._cssSelector(b,c)})},_cssSelector:function(c,d){var e=this;"string"===typeof d?b.jPlayer.prototype.options.cssSelector[c]?(this.css.jq[c]&&this.css.jq[c].length&&this.css.jq[c].unbind(".jPlayer"),this.options.cssSelector[c]=d,this.css.cs[c]=this.options.cssSelectorAncestor+" "+d,this.css.jq[c]=d?b(this.css.cs[c]):[],this.css.jq[c].length&&this.css.jq[c].bind("click.jPlayer",function(d){e[c](d);b(this).blur();return!1}),d&&1!==this.css.jq[c].length&&
this._warning({type:b.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[c],message:b.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[c].length+" found for "+c+" method.",hint:b.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:b.jPlayer.warning.CSS_SELECTOR_METHOD,context:c,message:b.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:b.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:b.jPlayer.warning.CSS_SELECTOR_STRING,context:d,message:b.jPlayer.warningMsg.CSS_SELECTOR_STRING,
hint:b.jPlayer.warningHint.CSS_SELECTOR_STRING})},seekBar:function(b){if(this.css.jq.seekBar){var d=this.css.jq.seekBar.offset();b=b.pageX-d.left;d=this.css.jq.seekBar.width();this.playHead(100*b/d)}},playBar:function(b){this.seekBar(b)},repeat:function(){this._loop(!0)},repeatOff:function(){this._loop(!1)},_loop:function(c){this.options.loop!==c&&(this.options.loop=c,this._updateButtons(),this._trigger(b.jPlayer.event.repeat))},currentTime:function(){},duration:function(){},gui:function(){},noSolution:function(){},
option:function(c,d){var e=c;if(0===arguments.length)return b.extend(!0,{},this.options);if("string"===typeof c){var g=c.split(".");if(d===j){for(var e=b.extend(!0,{},this.options),f=0;f<g.length;f++)if(e[g[f]]!==j)e=e[g[f]];else return this._warning({type:b.jPlayer.warning.OPTION_KEY,context:c,message:b.jPlayer.warningMsg.OPTION_KEY,hint:b.jPlayer.warningHint.OPTION_KEY}),j;return e}for(var f=e={},k=0;k<g.length;k++)k<g.length-1?(f[g[k]]={},f=f[g[k]]):f[g[k]]=d}this._setOptions(e);return this},_setOptions:function(c){var d=
this;b.each(c,function(b,c){d._setOption(b,c)});return this},_setOption:function(c,d){var e=this;switch(c){case "volume":this.volume(d);break;case "muted":this._muted(d);break;case "cssSelectorAncestor":this._cssSelectorAncestor(d);break;case "cssSelector":b.each(d,function(b,f){e._cssSelector(b,f)});break;case "fullScreen":this.options[c]!==d&&(this._removeUiClass(),this.options[c]=d,this._refreshSize());break;case "size":!this.options.fullScreen&&this.options[c].cssClass!==d.cssClass&&this._removeUiClass();
this.options[c]=b.extend({},this.options[c],d);this._refreshSize();break;case "sizeFull":this.options.fullScreen&&this.options[c].cssClass!==d.cssClass&&this._removeUiClass();this.options[c]=b.extend({},this.options[c],d);this._refreshSize();break;case "autohide":this.options[c]=b.extend({},this.options[c],d);this._updateAutohide();break;case "loop":this._loop(d);break;case "nativeVideoControls":this.options[c]=b.extend({},this.options[c],d);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);
this._restrictNativeVideoControls();this._updateNativeVideoControls();break;case "noFullScreen":this.options[c]=b.extend({},this.options[c],d);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullScreen=this._uaBlocklist(this.options.noFullScreen);this._restrictNativeVideoControls();this._updateButtons();break;case "noVolume":this.options[c]=b.extend({},this.options[c],d);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._updateVolume();
this._updateMute();break;case "emulateHtml":this.options[c]!==d&&((this.options[c]=d)?this._emulateHtmlBridge():this._destroyHtmlBridge())}return this},_refreshSize:function(){this._setSize();this._addUiClass();this._updateSize();this._updateButtons();this._updateAutohide();this._trigger(b.jPlayer.event.resize)},_setSize:function(){this.options.fullScreen?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):
(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass);this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height});
!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&(this.flash.active&&this.status.video)&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var b=this,d=function(){b.css.jq.gui.fadeIn(b.options.autohide.fadeIn,function(){clearTimeout(b.internal.autohideId);
b.internal.autohideId=setTimeout(function(){b.css.jq.gui.fadeOut(b.options.autohide.fadeOut)},b.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),this.element.unbind(".jPlayerAutohide"),this.css.jq.gui.unbind(".jPlayerAutohide"),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullScreen&&this.options.autohide.full||!this.options.fullScreen&&this.options.autohide.restored?(this.element.bind("mousemove.jPlayer.jPlayerAutohide",
d),this.css.jq.gui.bind("mousemove.jPlayer.jPlayerAutohide",d),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(){this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_html_initMedia:function(){this.htmlElement.media.src=this.status.src;"none"!==this.options.preload&&this._html_load();this._trigger(b.jPlayer.event.timeupdate)},_html_setAudio:function(c){var d=this;b.each(this.formats,function(b,g){if(d.html.support[g]&&c[g])return d.status.src=
c[g],d.status.format[g]=!0,d.status.formatType=g,!1});this.htmlElement.media=this.htmlElement.audio;this._html_initMedia()},_html_setVideo:function(c){var d=this;b.each(this.formats,function(b,g){if(d.html.support[g]&&c[g])return d.status.src=c[g],d.status.format[g]=!0,d.status.formatType=g,!1});this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(c.poster)?c.poster:"");this.htmlElement.media=this.htmlElement.video;this._html_initMedia()},_html_resetMedia:function(){this.htmlElement.media&&
(this.htmlElement.media.id===this.internal.video.id&&!this.status.nativeVideoControls&&this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load());clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(b){var d=this;this._html_load();this.htmlElement.media.play();
if(!isNaN(b))try{this.htmlElement.media.currentTime=b}catch(e){this.internal.htmlDlyCmdId=setTimeout(function(){d.play(b)},100);return}this._html_checkWaitForPlay()},_html_pause:function(b){var d=this;0<b?this._html_load():clearTimeout(this.internal.htmlDlyCmdId);this.htmlElement.media.pause();if(!isNaN(b))try{this.htmlElement.media.currentTime=b}catch(e){this.internal.htmlDlyCmdId=setTimeout(function(){d.pause(b)},100);return}0<b&&this._html_checkWaitForPlay()},_html_playHead:function(b){var d=this;
this._html_load();try{if("object"===typeof this.htmlElement.media.seekable&&0<this.htmlElement.media.seekable.length)this.htmlElement.media.currentTime=b*this.htmlElement.media.seekable.end(this.htmlElement.media.seekable.length-1)/100;else if(0<this.htmlElement.media.duration&&!isNaN(this.htmlElement.media.duration))this.htmlElement.media.currentTime=b*this.htmlElement.media.duration/100;else throw"e";}catch(e){this.internal.htmlDlyCmdId=setTimeout(function(){d.playHead(b)},100);return}this.status.waitForLoad||
this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_volume:function(b){this.html.audio.available&&(this.htmlElement.audio.volume=b);this.html.video.available&&(this.htmlElement.video.volume=b)},_html_mute:function(b){this.html.audio.available&&
(this.htmlElement.audio.muted=b);this.html.video.available&&(this.htmlElement.video.muted=b)},_flash_setAudio:function(c){var d=this;try{b.each(this.formats,function(b,f){if(d.flash.support[f]&&c[f]){switch(f){case "m4a":case "fla":d._getMovie().fl_setAudio_m4a(c[f]);break;case "mp3":d._getMovie().fl_setAudio_mp3(c[f]);break;case "rtmpa":d._getMovie().fl_setAudio_rtmp(c[f])}d.status.src=c[f];d.status.format[f]=!0;d.status.formatType=f;return!1}}),"auto"===this.options.preload&&(this._flash_load(),
this.status.waitForLoad=!1)}catch(e){this._flashError(e)}},_flash_setVideo:function(c){var d=this;try{b.each(this.formats,function(b,f){if(d.flash.support[f]&&c[f]){switch(f){case "m4v":case "flv":d._getMovie().fl_setVideo_m4v(c[f]);break;case "rtmpv":d._getMovie().fl_setVideo_rtmp(c[f])}d.status.src=c[f];d.status.format[f]=!0;d.status.formatType=f;return!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(e){this._flashError(e)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",
height:"0px"});this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(b){this._flashError(b)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(b){this._flashError(b)}this.status.waitForLoad=!1},_flash_play:function(b){try{this._getMovie().fl_play(b)}catch(d){this._flashError(d)}this.status.waitForLoad=!1;this._flash_checkWaitForPlay()},_flash_pause:function(b){try{this._getMovie().fl_pause(b)}catch(d){this._flashError(d)}0<b&&(this.status.waitForLoad=
!1,this._flash_checkWaitForPlay())},_flash_playHead:function(b){try{this._getMovie().fl_play_head(b)}catch(d){this._flashError(d)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(b){try{this._getMovie().fl_volume(b)}catch(d){this._flashError(d)}},
_flash_mute:function(b){try{this._getMovie().fl_mute(b)}catch(d){this._flashError(d)}},_getMovie:function(){return document[this.internal.flash.id]},_checkForFlash:function(b){var d=!1,e;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b),d=!0}catch(g){}else navigator.plugins&&0<navigator.mimeTypes.length&&(e=navigator.plugins["Shockwave Flash"])&&navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")>=b&&(d=!0);return d},_validString:function(b){return b&&
"string"===typeof b},_limitValue:function(b,d,e){return b<d?d:b>e?e:b},_urlNotSetError:function(c){this._error({type:b.jPlayer.error.URL_NOT_SET,context:c,message:b.jPlayer.errorMsg.URL_NOT_SET,hint:b.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(c){var d;d=this.internal.ready?"FLASH_DISABLED":"FLASH";this._error({type:b.jPlayer.error[d],context:this.internal.flash.swf,message:b.jPlayer.errorMsg[d]+c.message,hint:b.jPlayer.errorHint[d]});this.internal.flash.jq.css({width:"1px",height:"1px"})},
_error:function(c){this._trigger(b.jPlayer.event.error,c);this.options.errorAlerts&&this._alert("Error!"+(c.message?"\n\n"+c.message:"")+(c.hint?"\n\n"+c.hint:"")+"\n\nContext: "+c.context)},_warning:function(c){this._trigger(b.jPlayer.event.warning,j,c);this.options.warningAlerts&&this._alert("Warning!"+(c.message?"\n\n"+c.message:"")+(c.hint?"\n\n"+c.hint:"")+"\n\nContext: "+c.context)},_alert:function(b){alert("jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+b)},_emulateHtmlBridge:function(){var c=
this;b.each(b.jPlayer.emulateMethods.split(/\s+/g),function(b,e){c.internal.domNode[e]=function(b){c[e](b)}});b.each(b.jPlayer.event,function(d,e){var g=!0;b.each(b.jPlayer.reservedEvent.split(/\s+/g),function(b,c){if(c===d)return g=!1});g&&c.element.bind(e+".jPlayer.jPlayerHtml",function(){c._emulateHtmlUpdate();var b=document.createEvent("Event");b.initEvent(d,!1,!0);c.internal.domNode.dispatchEvent(b)})})},_emulateHtmlUpdate:function(){var c=this;b.each(b.jPlayer.emulateStatus.split(/\s+/g),function(b,
e){c.internal.domNode[e]=c.status[e]});b.each(b.jPlayer.emulateOptions.split(/\s+/g),function(b,e){c.internal.domNode[e]=c.options[e]})},_destroyHtmlBridge:function(){var c=this;this.element.unbind(".jPlayerHtml");b.each((b.jPlayer.emulateMethods+" "+b.jPlayer.emulateStatus+" "+b.jPlayer.emulateOptions).split(/\s+/g),function(b,e){delete c.internal.domNode[e]})}};b.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",
VERSION:"e_version"};b.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",
URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+b.jPlayer.prototype.version.script+" needs Jplayer.swf version "+b.jPlayer.prototype.version.needFlash+" but found "};b.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",
URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."};b.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};b.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",
OPTION_KEY:"The option requested in jPlayer('option') is undefined."};b.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}})(jQuery);
(function(b){function j(f){return b.data(f,"tooltip")}function l(f){j(this).delay?r=setTimeout(d,j(this).delay):d();n=!!j(this).track;b(document.body).bind("mousemove",e);e(f)}function c(){if(!b.tooltip.blocked&&!(this==k||!this.tooltipText&&!j(this).bodyHandler)){k=this;p=this.tooltipText;if(j(this).bodyHandler){f.title.hide();var c=j(this).bodyHandler.call(this);c.nodeType||c.jquery?f.body.empty().append(c):f.body.html(c);f.body.show()}else if(j(this).showBody){c=p.split(j(this).showBody);f.title.html(c.shift()).show();
f.body.empty();for(var d=0,e;e=c[d];d++)0<d&&f.body.append("<br/>"),f.body.append(e);f.body.hideWhenEmpty()}else f.title.html(p).show(),f.body.hide();j(this).showURL&&b(this).url()?f.url.html(b(this).url().replace("http://","")).show():f.url.hide();f.parent.addClass(j(this).extraClass);j(this).fixPNG&&f.parent.fixPNG();l.apply(this,arguments)}}function d(){r=null;(!q||!b.fn.bgiframe)&&j(k).fade?f.parent.is(":animated")?f.parent.stop().show().fadeTo(j(k).fade,k.tOpacity):f.parent.is(":visible")?f.parent.fadeTo(j(k).fade,
k.tOpacity):f.parent.fadeIn(j(k).fade):f.parent.show();e()}function e(c){if(!b.tooltip.blocked&&!(c&&"OPTION"==c.target.tagName))if(!n&&f.parent.is(":visible")&&b(document.body).unbind("mousemove",e),null==k)b(document.body).unbind("mousemove",e);else{f.parent.removeClass("viewport-right").removeClass("viewport-bottom");var d=f.parent[0].offsetLeft,g=f.parent[0].offsetTop;c&&(d=c.pageX+j(k).left,g=c.pageY+j(k).top,c="auto",j(k).positionLeft&&(c=b(window).width()-d,d="auto"),f.parent.css({left:d,right:c,
top:g}));c=b(window).scrollLeft();var p=b(window).scrollTop(),q=b(window).width(),r=b(window).height(),l=f.parent[0];c+q<l.offsetLeft+l.offsetWidth&&(d-=l.offsetWidth+20+j(k).left,f.parent.css({left:d+"px"}).addClass("viewport-right"));p+r<l.offsetTop+l.offsetHeight&&(g-=l.offsetHeight+20+j(k).top,f.parent.css({top:g+"px"}).addClass("viewport-bottom"))}}function g(){function c(){f.parent.removeClass(d.extraClass).hide().css("opacity","")}if(!b.tooltip.blocked){r&&clearTimeout(r);k=null;var d=j(this);
(!q||!b.fn.bgiframe)&&d.fade?f.parent.is(":animated")?f.parent.stop().fadeTo(d.fade,0,c):f.parent.stop().fadeOut(d.fade,c):c();j(this).fixPNG&&f.parent.unfixPNG()}}var f={},k,p,r,q=b.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),n=!1;b.tooltip={blocked:!1,defaults:{delay:200,fade:!1,showURL:!0,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){b.tooltip.blocked=!b.tooltip.blocked}};b.fn.extend({tooltip:function(d){d=b.extend({},b.tooltip.defaults,d);f.parent||(f.parent=b('<div id="'+
d.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide(),b.fn.bgiframe&&f.parent.bgiframe(),f.title=b("h3",f.parent),f.body=b("div.body",f.parent),f.url=b("div.url",f.parent));return this.each(function(){b.data(this,"tooltip",d);this.tOpacity=f.parent.css("opacity");this.tooltipText=this.title;b(this).removeAttr("title");this.alt=""}).mouseover(c).mouseout(g).click(g)},fixPNG:q?function(){return this.each(function(){var f=b(this).css("backgroundImage");
f.match(/^url\(["']?(.*\.png)["']?\)$/i)&&(f=RegExp.$1,b(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+f+"')"}).each(function(){var f=b(this).css("position");"absolute"!=f&&"relative"!=f&&b(this).css("position","relative")}))})}:function(){return this},unfixPNG:q?function(){return this.each(function(){b(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){b(this)[b(this).html()?
"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}})})(jQuery);
(function(b,j,l){function c(f,c){this.element=f;this.$element=b(f);this.options=b.extend({},g,c);this._defaults=g;this._name=d;this.init()}var d="thavis360",e=j.document,g={imgTotal:1,imgFormat:".jpg",imgStart:1,clicked:!1,zClicked:!1,imgPointer:0,stepping:30,spinDirection:"forward",spinInterval:500,loaded:!1,navPosition:"left",descPosition:"right",lang:"en",video:{},swfPath:"core/swf",videoWidth:320,videoHeight:320,animDuration:{},animDelay:{},features:!0,serverLocation:"",hsWidth:20,hsHeight:20,
hsFadeInDuration:600,hsObject:{},debug:!1};c.prototype={init:function(){var f=this;this.addMarkup();var c=this.$element.find(".thavis360"),d=c.find(".viewer");c.append('<div class="thavis360-loading">Loading...</div>').find(":last").css("opacity",0.5);this.preload();c.find(".button.t-zoom").bind("click",function(){if(!f.options.debug)if(f.toggleButton(this),f.options.zClicked)f.options.zClicked=!1,f.options.zoom.find(".tint").remove(),f.options.zoom!==l&&null!==f.options.zoom.data("zoom")&&f.options.zoom.data("zoom").destroy();
else{f.toggleViewer(this,"off");clearInterval(f.options.spinHandle);f.options.spinHandle=0;f.options.zClicked=!0;var d=f.tsdec("aHR0cDovL2pzMzYwdmlld2VyLmNvbS8="),e=f.tsdec("RnJlZSAzNjCwIFZpZXdlciB8IGpzMzYwdmlld2VyLmNvbQ==");"follow"==f.options.zoomMode||"move"==f.options.zoomMode?(b(f.element).find("#t-sb-nav-full").css("display","block"),TShadowbox.init({fURL:b("#"+f.options.imgPointer).parent().attr("href"),customContainer:c[0],handleOversize:"drag",skipSetup:!0,viewportPadding:1,zoomMode:f.options.zoomMode,
blURL:d,blText:e,onClose:function(){f.toggleButton(c.find(".button.t-zoom"),"off");f.options.zClicked=!1;this.customContainer=f.element}}),TShadowbox.open({content:b("#"+f.options.imgPointer).parent().attr("href"),player:"img"})):(f.options.zoom!==l&&null!==f.options.zoom.data("zoom")&&f.options.zoom.data("zoom").destroy(),f.options.zoom="block"==b("#"+f.options.imgPointer).css("display")||"inline"==b("#"+f.options.imgPointer).css("display")?b("#"+f.options.imgPointer).parent().CloudZoom({blURL:d,
blText:e,softFocus:!1,tint:!0,showTitle:!1}):"block"==b("#"+(f.options.imgPointer-1)).css("display")||"inline"==b("#"+(f.options.imgPointer-1)).css("display")?b("#"+(f.options.imgPointer-1)).parent().CloudZoom({blURL:d,blText:e,softFocus:!1,tint:!0,showTitle:!1}):b("#"+(f.options.imgPointer+1)).parent().CloudZoom({blURL:d,blText:e,softFocus:!1,tint:!0,showTitle:!1}))}});c.find(".t-play-pause").bind("click",function(){if(!f.options.debug)return f.toggleButton(this),f.options.zClicked=!1,f.options.zoom!==
l&&null!==f.options.zoom.data("zoom")&&f.options.zoom.data("zoom").destroy(),f.options.spinHandle?(f.options.features&&f.options.$hotspot.fadeIn(f.options.hsFadeInDuration),clearInterval(f.options.spinHandle),f.options.spinHandle=0):(f.toggleViewer(this,"off"),f.startSpin()),!1});d.find(".cloud-zoom").bind("click",function(b){f.options.debug||b.preventDefault()});d.bind("mousedown touchstart",function(g){if(!f.options.debug&&!f.options.zClicked)return"hs-anchor"==g.target.className&&c.find("#t-fb-"+
b(g.target).parent().attr("data-anchor")).trigger("click"),f.options.currPos="touchstart"==g.type?j.event.touches[0].pageX:g.pageX,clearInterval(f.options.spinHandle),f.options.spinHandle=0,f.options.clicked=!0,f.toggleButton(c.find(".button.t-play-pause"),"off"),b(e).bind("mousemove touchmove",{__self:f,_viewer:d},f.moveHandler),!1});b(e).bind("mouseup touchend",function(c){!f.options.debug&&!f.options.zClicked&&("mouseup"==c.type?f.options.features&&f.options.$hotspot.fadeIn(f.options.hsFadeInDuration):
"hidden-img"==c.target.className&&f.options.features&&f.options.$hotspot.fadeIn(f.options.hsFadeInDuration),b(e).unbind("mousemove touchmove",this.moveHandler),f.options.clicked=!1)});if(f.options.debug){var g=c.find(".debug");g.find(".forward").bind("click",function(){f.stepForward()});g.find(".backward").bind("click",function(){f.stepBackward()})}},tsdec:function(b){var c="",d,e,g,j,l,m=0;for(b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");m<b.length;)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(m++)),
e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(m++)),j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(m++)),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(m++)),d=d<<2|e>>4,e=(e&15)<<4|j>>2,g=(j&3)<<6|l,c+=String.fromCharCode(d),64!=j&&(c+=String.fromCharCode(e)),64!=l&&(c+=String.fromCharCode(g));return c},moveHandler:function(b){var c=b.data.__self;c.options.zClicked||(b="touchmove"==
b.type?j.event.targetTouches[0].pageX:b.pageX,c.options.clicked&&Math.abs(c.options.currPos-b)>=c.options.stepping&&(c.options.currPos-b>=c.options.stepping?c.stepForward():c.stepBackward(),c.options.currPos=b));return!1},addMarkup:function(){var b='<div class="viewer"><a class="backlink" href="'+this.tsdec("aHR0cDovL2pzMzYwdmlld2VyLmNvbS8=")+'" target="_blank">'+this.tsdec("RnJlZSAzNjCwIFZpZXdlciB8IGpzMzYwdmlld2VyLmNvbQ==")+'</a><div class="features"></div></div>';this.$element.append('<div class="thavis360 container"><div class="main-wrapper container"></div><div class="footer container"></div></div>');
var c=this.$element.find(".thavis360");"top"==this.options.navPosition?(c.find(".main-wrapper").append('<div class="nav"><a class="button t-play-pause" title="Play/Pause"></a><a class="button t-zoom" title="Zoom"></a></div><div class="clearfix"></div><div class="main"></div><div class="clearfix"></div>'),c.find(".nav").addClass("horz")):"bottom"==this.options.navPosition?(c.find(".main-wrapper").append('<div class="main"></div><div class="clearfix"></div><div class="nav"><a class="button t-play-pause" title="Play/Pause"></a><a class="button t-zoom" title="Zoom"></a></div><div class="clearfix"></div>'),
c.find(".nav").addClass("horz")):"left"==this.options.navPosition?c.find(".main-wrapper").append('<div class="nav"><a class="button t-play-pause" title="Play/Pause"></a><a class="button t-zoom" title="Zoom"></a></div><div class="main"></div><div class="clearfix"></div>'):"right"==this.options.navPosition&&c.find(".main-wrapper").append('<div class="main"></div><div class="nav"><a class="button t-play-pause" title="Play/Pause"></a><a class="button t-zoom" title="Zoom"></a></div><div class="clearfix"></div>');
"top"==this.options.descPosition?c.find(".main").append('<div class="description"><div class="header"></div></div><div class="clearfix"></div>'+b+'<div class="clearfix"></div>'):"bottom"==this.options.descPosition?c.find(".main").append(b+'<div class="clearfix"></div><div class="description"><div class="header"></div></div><div class="clearfix"></div>'):"left"==this.options.descPosition?c.find(".main").append('<div class="description"><div class="header"></div></div>'+b+'<div class="clearfix"></div>'):
"right"==this.options.descPosition&&c.find(".main").append(b+'<div class="description"><div class="header"></div></div><div class="clearfix"></div>');this.options.debug&&c.append('<div class="debug container"><a class="forward"></a><input type="text" class="counter" readonly="readonly" /><a class="backward"></a><input type="text" class="img-name" readonly="readonly" /><div class="container-1"></div><div class="container-2"></div></div>')},preload:function(){for(var f=this,c=this.$element.find(".thavis360"),
d=c.find(".viewer"),e=this.options.serverLocation+this.options.objDir+"/"+this.options.objDir+"_normal_",g=this.options.serverLocation+this.options.objDir+"/"+this.options.objDir+"_zoom_",j=0,l=this.options.imgStart,m=0;m<this.options.imgTotal;m++)b("<img />").attr({"class":"hidden-img",id:m,src:e+this.pad(m+l,3)+this.options.imgFormat,title:""}).appendTo(b("<a />").attr({"class":"cloud-zoom",id:"hs-"+(m+l),rel:"adjustX: 10, adjustY:-4, softFocus:true",href:g+this.pad(m+l,3)+this.options.imgFormat}).appendTo(d)).css("display",
"hidden").one("load",function(){j++;j==f.options.imgTotal?(f.options.loaded=!0,c.find(".thavis360-loading").remove(),f.options.debug?f.loadFeatures():f.options.features?f.loadFeatures():f.startSpin()):(c.find(".thavis360-loading").text("Loading image ("+j+"/"+f.options.imgTotal+")"),f.options.loaded=!1)}).each(function(){this.complete&&b(this).trigger("load")})},pad:function(b,c){return b.toString().length<c?this.pad("0"+b.toString(),c):b.toString()},startSpin:function(){var b=this,c=this.$element.find(".thavis360");
c.find(".viewer");b.toggleButton(c.find(".button.t-play-pause"),"on");this.options.spinHandle=setInterval(function(){"forward"==b.options.spinDirection?b.stepForward():"backward"==b.options.spinDirection&&b.stepBackward()},b.options.spinInterval)},stepForward:function(){var c=this,d=this.$element.find(".thavis360"),e=d.find(".viewer");!c.options.debug&&c.options.features&&c.options.$hotspot.css("display","none");0>c.options.imgPointer?(c.options.imgPointer=c.options.imgTotal-1,e.find("#"+(c.options.imgTotal-
1)).parent().css("display","block"),c.options.debug&&d.find(".debug .img-name").val(e.find("#"+(c.options.imgTotal-1)).attr("src")),e.find("#0").parent().css("display","none")):c.options.imgPointer==c.options.imgTotal-1?(e.find("#0").parent().css("display","block"),c.options.debug&&d.find(".debug .img-name").val(e.find("#0").attr("src")),e.find("#"+(c.options.imgTotal-1)).parent().css("display","none"),c.options.imgPointer=0):(c.options.imgPointer++,e.find("#"+c.options.imgPointer).parent().css("display",
"block"),c.options.debug&&d.find(".debug .img-name").val(e.find("#"+c.options.imgPointer).attr("src")),e.find("#"+(c.options.imgPointer+1)).parent().css("display","none"),e.find("#"+(c.options.imgPointer-1)).parent().css("display","none"));c.options.debug&&(d.find(".debug .counter").val(c.options.imgPointer+c.options.imgStart),d.find(".debug .container-1").empty(),b.each(c.options.hsObject,function(b){this[c.options.imgPointer+c.options.imgStart]!==l?d.find(".debug .container-1").append('<p class="d-anchor'+
b+'"><strong>Anchor</strong> '+b+' <input class="d-checkbox" data-anchor-id="'+b+'" type="checkbox" checked="checked"></input> Position X: <input class="pos-container" value="'+this[c.options.imgPointer+c.options.imgStart].x+'" readonly="readonly"></input> Y: <input class="pos-container" value="'+this[c.options.imgPointer+c.options.imgStart].y+'" readonly="readonly"></input></p>'):d.find(".debug .container-1").append('<p class="d-anchor'+b+'"><strong>Anchor</strong> '+b+' <input class="d-checkbox" data-anchor-id="'+
b+'" type="checkbox"></input> Position X: <input class="pos-container" value="Not Set" readonly="readonly"></input> Y: <input class="pos-container" value="Not Set" readonly="readonly"></input></p>')}),c.updatePosString())},stepBackward:function(){var c=this,d=this.$element.find(".thavis360"),e=d.find(".viewer");!c.options.debug&&c.options.features&&c.options.$hotspot.css("display","none");0==c.options.imgPointer?(c.options.imgPointer=c.options.imgTotal-1,e.find("#"+(c.options.imgTotal-1)).parent().css("display",
"block"),c.options.debug&&d.find(".debug .img-name").val(e.find("#"+(c.options.imgTotal-1)).attr("src")),e.find("#0").parent().css("display","none")):c.options.imgPointer>c.options.imgTotal-1?(e.find("#0").parent().css("display","block"),c.options.debug&&d.find(".debug .img-name").val(e.find("#0").attr("src")),e.find("#"+(c.options.imgTotal-1)).parent().css("display","none"),c.options.imgPointer=0):(c.options.imgPointer--,e.find("#"+c.options.imgPointer).parent().css("display","block"),c.options.debug&&
d.find(".debug .img-name").val(e.find("#"+c.options.imgPointer).attr("src")),e.find("#"+(c.options.imgPointer+1)).parent().css("display","none"),e.find("#"+(c.options.imgPointer-1)).parent().css("display","none"));c.options.debug&&(d.find(".debug .counter").val(c.options.imgPointer+c.options.imgStart),d.find(".debug .container-1").empty(),b.each(c.options.hsObject,function(b){this[c.options.imgPointer+c.options.imgStart]!==l?d.find(".debug .container-1").append('<p class="d-anchor'+b+'"><strong>Anchor</strong> '+
b+' <input class="d-checkbox" data-anchor-id="'+b+'" type="checkbox" checked="checked"></input> Position X: <input class="pos-container" value="'+this[c.options.imgPointer+c.options.imgStart].x+'" readonly="readonly"></input> Y: <input class="pos-container" value="'+this[c.options.imgPointer+c.options.imgStart].y+'" readonly="readonly"></input></p>'):d.find(".debug .container-1").append('<p class="d-anchor'+b+'"><strong>Anchor</strong> '+b+' <input class="d-checkbox" data-anchor-id="'+b+'" type="checkbox"></input> Position X: <input class="pos-container" value="Not Set" readonly="readonly"></input> Y: <input class="pos-container" value="Not Set" readonly="readonly"></input></p>')}),
c.updatePosString())},updatePosString:function(){var c=this.$element.find(".thavis360").find(".debug .container-2");c.empty();var d="";b.each(this.options.hsObject,function(c,f){var e="";b.each(f,function(b,c){e+=b+":"+c.x+","+c.y+";"});";"==e.slice(-1)&&(e=e.slice(0,-1));d+="<strong>Anchor "+c+"</strong><br/><textarea>"+e+"</textarea><br/>"});c.append(d)},loadFeatures:function(){var c=this,d=this.$element.find(".thavis360"),e=d.find(".viewer"),g=d.find(".header"),j=d.find(".features"),n=d.find(".description"),
s=d.find(".nav");b.get(this.options.serverLocation+this.options.objDir+"/_"+this.options.objDir+"_object.xml").done(function(m){m=b(m);m.find("description").each(function(){var e=b(this).find('language[id="'+c.options.lang+'"]');e.attr("h1_text")&&g.append("<h1>"+e.attr("h1_text")+"</h1>");e.attr("h2_text")&&g.append("<h2>"+e.attr("h1_text")+"</h2>");e.attr("h3_text")&&g.append("<h3>"+e.attr("h1_text")+"</h3>");e.attr("h4_text")&&g.append("<h4>"+e.attr("h1_text")+"</h4>");e.attr("h5_text")&&g.append("<h5>"+
e.attr("h1_text")+"</h5>");g.append("<p>"+e.text()+"</p>");var j=!0;b(this).find("image").each(function(){j&&(d.find(".main-wrapper").each(function(){b(this).find("div").last().before('<div class="logos"></div>')}),j=!1);var e=this.options.serverLocation+b(this).attr("file").replace("[path]",c.options.objDir+"/").replace("[object]",c.options.objDir),g=b("<p/>").append(b(this).attr("info_text")).addClass("t-tooltip");d.find(".logos").append('<img src="'+e+'"></img>').tooltip({bodyHandler:function(){return g},
showURL:!1,left:-350})})});m.find("anchor").each(function(){var d=b(this).find('language[id="'+c.options.lang+'"]'),g=d.attr("tooltip"),d=d.text(),k=b(this).attr("id"),l={};if(""!=b(this).attr("hotspot")){var m=b(this).attr("hotspot").split(";");b.each(m,function(){var b=this.split(":"),d=b[1].split(",");c.options.debug?(l[b[0]]={},l[b[0]].x=d[0],l[b[0]].y=d[1],e.find("#hs-"+b[0]).append('<div class="hs-item" data-anchor="'+k+'" style="left:'+(d[0]-c.options.hsWidth/2)+"px;top:"+(d[1]-c.options.hsHeight/
2)+'px;"><a class="hs-anchor" title="Anchor '+k+'"></a></div>')):e.find("#hs-"+b[0]).append('<div class="hs-item" data-anchor="'+k+'" style="left:'+(d[0]-c.options.hsWidth/2)+"px;top:"+(d[1]-c.options.hsHeight/2)+'px;"><a class="hs-anchor" title="'+g+'"></a></div>')})}c.options.debug&&(c.options.hsObject[k]=l);m=c.options.serverLocation+b(this).attr("thumb").replace("[path]",c.options.objDir+"/").replace("[object]",c.options.objDir);s.append('<a title="'+g+'" id="t-fb-'+k+'" class="button t-feature" style="background-image:url('+
m+')"></a>');j.append('<div id="t-fv-'+k+'" class="t-feature-viewer"></div>');var m=c.options.serverLocation+b(this).attr("zoomswf").replace("[path]",c.options.objDir+"/").replace("[object]",c.options.objDir),r=m.substr(m.length-3,3);"xml"==r?b.get(m).done(function(d){b(d).find("playlist").each(function(){b(this).find("image").each(function(){var d=c.options.serverLocation+b(this).attr("filename").replace("[path]",c.options.objDir+"/").replace("[object]",c.options.objDir);j.find("#t-fv-"+k).addClass("t-image-wrapper").append('<img class="t-image" src="'+
d+'"></img>');c.options.animDuration[k]=""!=b(this).attr("duration")?b(this).attr("duration"):0;c.options.animDelay[k]=""!=b(this).attr("delay")?b(this).attr("delay"):0});var d=!0;b(this).find("video").each(function(){if(d){var e='<div id="jp_container_'+k+'" class="jp-video jp-video-360p"><div class="jp-type-single"><div id="jquery_jplayer_'+k+'" class="jp-jplayer"></div><div id="jp_interface_'+k+'" class="jp-interface"><ul class="jp-controls"><li><a href="#" class="jp-play" tabindex="1">play</a></li><li><a href="#" class="jp-pause" tabindex="1">pause</a></li><li><a href="#" class="jp-stop" tabindex="1">stop</a></li></ul><div class="jp-progress"><div class="jp-seek-bar"><div class="jp-play-bar"></div></div></div></div></div></div>';
j.find("#t-fv-"+k).addClass("t-video-wrapper").append(e);d=!1}""!=b(this).attr("filename")&&(e=c.options.serverLocation+b(this).attr("filename").replace("[path]",c.options.objDir+"/").replace("[object]",c.options.objDir),c.options.video[k+b(this).attr("type")]=e)})})}).fail(function(){}):("jpg"==r||"png"==r||"peg"==r)&&j.find("#t-fv-"+k).addClass("t-image-wrapper").append('<img class="t-image" src="'+m+'"></img>');n.append('<div id="t-fd-'+b(this).attr("id")+'" class="t-feature-description">'+d+"</div>")});
s.find(".button.t-feature").bind("click",function(){c.options.debug||(c.options.animHandle&&(clearTimeout(c.options.animHandle),c.options.animHandle=0),b.jPlayer.pause(),b(this).hasClass("on")?c.stopFeatures():(c.options.zClicked=!1,c.options.zoom!==l&&null!==c.options.zoom.data("zoom")&&c.options.zoom.data("zoom").destroy(),c.options.spinHandle&&(clearInterval(c.options.spinHandle),c.options.spinHandle=0),c.toggleViewer(this)),c.toggleButton(this))});c.options.$hotspot=e.find(".hs-item");if(c.options.debug){c.stepForward();
c.stepBackward();var z=d.find(".debug .container-1");c.options.$hotspot.css("display","block");c.options.$hotspot.draggable({containment:"parent",stop:function(){var d=b(this).attr("data-anchor"),e=(parseFloat(b(this).css("left"))+c.options.hsWidth/2).toFixed(2),g=(parseFloat(b(this).css("top"))+c.options.hsHeight/2).toFixed(2);c.options.hsObject[d][parseInt(b(this).siblings(".hidden-img").attr("id"))+c.options.imgStart].x=e;c.options.hsObject[d][parseInt(b(this).siblings(".hidden-img").attr("id"))+
c.options.imgStart].y=g;z.find(".d-anchor"+d).empty();z.find(".d-anchor"+d).append("<strong>Anchor</strong> "+d+' <input class="d-checkbox" data-anchor-id="'+d+'" type="checkbox" checked="checked"></input> Position X: <input class="pos-container" value="'+e+'" readonly="readonly"></input> Y: <input class="pos-container" value="'+g+'" readonly="readonly"></input>');c.updatePosString()}});b(".d-checkbox").live("click",function(){var e=d.find(".counter").val(),g=b(this).attr("data-anchor-id");b(this).is(":checked")?
(b('<div class="hs-item" data-anchor="'+g+'" style="left: 0px;top: 0px;display: block;"><a class="hs-anchor" title="anchor '+g+'"></a></div>').appendTo(d.find("#hs-"+e)),d.find("#hs-"+e).children(".hs-item").each(function(){b(this).attr("data-anchor")==g&&b(this).draggable({containment:"parent",stop:function(){var d=b(this).attr("data-anchor"),e=(parseFloat(b(this).css("left"))+c.options.hsWidth/2).toFixed(2),g=(parseFloat(b(this).css("top"))+c.options.hsHeight/2).toFixed(2);c.options.hsObject[d][parseInt(b(this).siblings(".hidden-img").attr("id"))+
c.options.imgStart].x=e;c.options.hsObject[d][parseInt(b(this).siblings(".hidden-img").attr("id"))+c.options.imgStart].y=g;z.find(".d-anchor"+d).empty();z.find(".d-anchor"+d).append("<strong>Anchor</strong> "+d+' <input class="d-checkbox" data-anchor-id="'+d+'" type="checkbox" checked="checked"></input> Position X: <input class="pos-container" value="'+e+'" readonly="readonly"></input> Y: <input class="pos-container" value="'+g+'" readonly="readonly"></input>');c.updatePosString()}})}),c.options.hsObject[g][e]=
{},c.options.hsObject[g][e].x=parseFloat(c.options.hsWidth/2).toFixed(2),c.options.hsObject[g][e].y=parseFloat(c.options.hsHeight/2).toFixed(2)):d.find("#hs-"+e).children(".hs-item").each(function(){b(this).attr("data-anchor")==g&&(b(this).draggable("destroy"),b(this).remove());delete c.options.hsObject[g][e]});c.updatePosString()})}else c.startSpin()}).fail(function(){})},toggleViewer:function(c,d){var e=this,g=this.$element.find(".thavis360"),j=g.find(".features"),g=g.find(".description");if(typeof d===
l||"undefined"===typeof d){g.find(".header").css("visibility","hidden");var n=b(c).attr("id").replace("t-fb-","");j.css("visibility","visible");j.find(".t-feature-viewer").not(j.find("#t-fv-"+n)).each(function(){b(this).css("visibility","hidden")});var s=j.find("#t-fv-"+n);s.css("visibility","visible");g.find(".t-feature-description").not(g.find("#t-fd-"+n)).each(function(){b(this).css("display","none")});g.find("#t-fd-"+n).css("display","block");if(s.hasClass("t-image-wrapper")){var m=s.find("img"),
z=0;if(1<m.length){m.css("display","none");var u=function(){e.options.animHandle=setTimeout(u,1E3*e.options.animDuration[n]+1E3*e.options.animDelay[n]);m.eq(z).fadeIn(1E3*e.options.animDuration[n],function(){0==z&&m.eq(m.length-1).css("display","none");z++;z>=m.length&&(z=0,m.not(m.eq(m.length-1)).css("display","none"))})};u()}}else s.hasClass("t-video-wrapper")&&(s.find(".jp-jplayer").jPlayer({solution:"html, flash",swfPath:e.options.swfPath,supplied:"m4v, ogv, webmv, flv",wmode:"window",size:{width:e.options.videoWidth+
"px",height:e.options.videoHeight+"px"},ready:function(){b(this).jPlayer("setMedia",{m4v:e.options.video[n+"mp4"],ogv:e.options.video[n+"ogv"],webmv:e.options.video[n+"webm"],flv:e.options.video[n+"flv"],poster:e.options.video[n+"jpg"]}).jPlayer("play")},play:function(){},ended:function(){},pause:function(){},cssSelectorAncestor:"#jp_interface_"+n,errorAlerts:!1,warningAlerts:!1}),s.find(".jp-controls").each(function(){b(this).find("a.jp-play").bind("touchstart",function(){s.find(".jp-jplayer").jPlayer("play")});
b(this).find("a.jp-pause").bind("touchstart",function(){s.find(".jp-jplayer").jPlayer("pause")});b(this).find("a.jp-stop").bind("touchstart",function(){s.find(".jp-jplayer").jPlayer("stop")})}))}else"off"==d&&e.stopFeatures()},toggleButton:function(c,d){var e=this.$element.find(".thavis360");typeof d===l||"undefined"===typeof d?b(c).hasClass("on")?b(c).removeClass("on"):(e.find(".nav .button").not(b(c)).each(function(){b(this).removeClass("on")}),b(c).addClass("on")):"on"==d?b(c).hasClass("on")||
b(c).addClass("on"):"off"==d&&b(c).hasClass("on")&&b(c).removeClass("on")},stopFeatures:function(){var c=this.$element.find(".thavis360"),d=c.find(".features"),c=c.find(".description");c.find(".header").css("visibility","visible");this.options.animHandle&&(clearTimeout(this.options.animHandle),this.options.animHandle=0);d.css("visibility","hidden");d.find(".t-feature-viewer").each(function(){b(this).css("visibility","hidden")});b.jPlayer.pause();c.find(".t-feature-description").each(function(){b(this).css("display",
"none")})}};b.fn[d]=function(e){return this.each(function(){b.data(this,"plugin_"+d)||b.data(this,"plugin_"+d,new c(this,e))})}})(jQuery,window);
/* This Script uses shadowbox:

Shadowbox.js Commercial License version 1.0

Under the terms of this license, the licensee is granted the following privileges:

  - The right to use the library as part of a website or application that is
    used for commercial purposes

  - The right to modify the library to suit his purpose.

Under no circumstance is the licensee permitted to redistribute the source code,
images, or documentation contained in the library. All redistribution rights
remain with the copyright holder unless specific prior written permission is
obtained.

Under no circumstance shall this copyright notice or list of conditions be
modified or removed from the code distribution in either source or binary form.

This software is provided by the copyright holder and contributors "as is" and
any express or implied warranties, including, but not limited to, the implied
warranties of merchantability and fitness for a particular purpose are disclaimed.

In no event shall the copyright holder or contributors be liable for any direct,
indirect, incidental, special, exemplary, or consequential damages (including, but
not limited to, procurement of substitute goods or services; loss of use, data, or
profits; or business interruption) however caused and on any theory of liability,
whether in contract, strict liability, or tort (including negligence or otherwise)
arising in any way out of the use of this software, even if advised of the
possibility of such damage.*/